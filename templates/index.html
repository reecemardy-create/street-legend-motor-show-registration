<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Street Legends Motor Show Registration</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body style="background: url('{{ url_for('static', filename='images/bg.jpg') }}') no-repeat center center fixed; background-size: cover;">


<div class="overlay"></div>

<div class="center-box">

    <h2 class="form-title">Street Legends Motor Show Registration</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} text-center mb-2">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST">

        <input type="text" name="first_name" class="form-control mb-2" placeholder="First Name" required>
        <input type="text" name="last_name" class="form-control mb-2" placeholder="Last Name" required>
        <input type="email" name="email" class="form-control mb-2" placeholder="Email" required>
        <input type="text" name="vehicle_brand" class="form-control mb-2" placeholder="Vehicle Brand" required>
        <input type="text" name="vehicle_model" class="form-control mb-2" placeholder="Vehicle Model" required>
        <input type="text" name="plate_number" class="form-control mb-2" placeholder="Plate Number" required>
        <input type="date" name="registration_date" class="form-control mb-3" required>

        <button type="submit" class="btn btn-warning w-100 fw-bold">
            Register Vehicle
        </button>

    </form>
</div>

<!-- Records Table -->
<div class="container mt-4">
    <table class="table table-dark table-striped table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Vehicle</th>
                <th>Plate</th>
                <th>Date</th>
                <th>Delete</th>
            </tr>
        </thead>

        <tbody>
        {% for r in records %}
            <tr>
                <td>{{ r.first_name }} {{ r.last_name }}</td>
                <td>{{ r.email }}</td>
                <td>{{ r.vehicle_brand }} {{ r.vehicle_model }}</td>
                <td>{{ r.plate_number }}</td>
                <td>{{ r.registration_date }}</td>
                <td>
                    <a href="{{ url_for('delete', id=r.id) }}" class="btn btn-danger btn-sm">
                        X
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>
